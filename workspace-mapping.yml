# workspace-mapping.yml
# Mapping des artefacts Power BI vers les workspaces par environnement

# Format: 
# Par défaut, si le workspace de report et de semanticmodel sont les mêmes , ainsi que le dataset location

# artifact_name:
#   dev: workspace_id_dev
#   prp: workspace_id_prp
#   prd: workspace_id_prd

#Sinon, si les workspaces de report et de semanticmodel sont différents

# artifact_name:
#   semanticmodel:
#     dev: "workspace-data-dev-id"
#     prp: "workspace-data-prp-id"
#     prd: "workspace-data-prd-id"
#   report:
#     dev: "workspace-analytics-dev-id"  # Peut être différent !
#     prp: "workspace-analytics-prp-id"
#     prd: "workspace-analytics-prd-id"

# A noter que le nom de l'artefact doit correspondre EXACTEMENT au nom du dossier sans l'extension dans src, exemple : src/Report_NEO.Report ==> nom: "Report_Neo"

# Si les datasets source des rapports sont encore dans un autre workspace, on ajoute une caracteristique dataset_location : (si absent, dataset_location = semanticmodel workspaces)
#   semanticmodel:
#     dev: "workspace-data-dev-id"
#     prp: "workspace-data-prp-id"
#     prd: "workspace-data-prd-id"
#   report:
#     dev: "workspace-analytics-dev-id"
#     prp: "workspace-analytics-prp-id"
#     prd: "workspace-analytics-prd-id"
#   # NOUVEAU : Spécifier où trouver le dataset pour le rebind
#   dataset_location:
#     dev: 
#       workspace_id: "workspace-data-dev-id"
#       dataset_name: "Rapport Steam"  # Nom du SemanticModel
#     prp:
#       workspace_id: "workspace-data-prp-id"
#       dataset_name: "Rapport Steam"
#     prd:
#       workspace_id: "workspace-data-prd-id"
#       dataset_name: "Rapport Steam"

"Rapport Steam":
  dev: "ec64ffb0-48df-442d-b169-1fec5e64ba29"
  prp: "e19e8ac6-ab71-42d4-bdb8-0cef612d698a"
  prd: "1dd6c9cf-d4ee-4825-b473-def0246bc8e7"

"Rapport_Population":
  semanticmodel:
    dev: "3df9788b-124a-4160-bae0-191e44fb8fd3"
    prp: "3ef1c2dd-7a81-416e-8aff-4137454510d3"
    prd: "016fec66-aed9-4239-a66d-03d7a5157f9d"
  report:
    dev: "3df9788b-124a-4160-bae0-191e44fb8fd3"
    prp: "3ef1c2dd-7a81-416e-8aff-4137454510d3"
    prd: "016fec66-aed9-4239-a66d-03d7a5157f9d"

"LiveCoReport_Population":
  semanticmodel:
    dev: "3df9788b-124a-4160-bae0-191e44fb8fd3"
    prp: "3ef1c2dd-7a81-416e-8aff-4137454510d3"
    prd: "016fec66-aed9-4239-a66d-03d7a5157f9d"
  report:
    dev: "ec64ffb0-48df-442d-b169-1fec5e64ba29"
    prp: "e19e8ac6-ab71-42d4-bdb8-0cef612d698a"
    prd: "1dd6c9cf-d4ee-4825-b473-def0246bc8e7"
  dataset_location:
    dev:
      workspace_id: "3df9788b-124a-4160-bae0-191e44fb8fd3"
      dataset_name: "Rapport_Population"
    prp:
      workspace_id: "3ef1c2dd-7a81-416e-8aff-4137454510d3"
      dataset_name: "Rapport_Population"
    prd:
      workspace_id: "1dd6c9cf-d4ee-4825-b473-def0246bc8e7"
      dataset_name: "Rapport_Population"

# Workspace par défaut si l'artefact n'est pas dans le mapping
default:
  dev: "ec64ffb0-48df-442d-b169-1fec5e64ba29"
  prp: "e19e8ac6-ab71-42d4-bdb8-0cef612d698a"
  prd: "1dd6c9cf-d4ee-4825-b473-def0246bc8e7"